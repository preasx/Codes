<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Hub - User Selection</title>
</head>
<body>
  <h1>Game Hub</h1>
  <p>Select your user and partner to start playing</p>

  <!-- Welcome Section -->
  <div id="welcome" class="content-section active">
    <h2>Welcome</h2>
    <p>To get started, select your username and a partner to compete against.</p>
    <button onclick="showSection('user-selection')">Get Started</button>
  </div>

  <!-- User Selection -->
  <div id="user-selection" class="content-section" style="display:none;">
    <h2>Select Your Username</h2>
    <div>
      <button class="user-btn" data-user="lefa">lefa</button>
      <button class="user-btn" data-user="owami">owami</button>
      <button class="user-btn" data-user="jonas">jonas</button>
      <button class="user-btn" data-user="preasx24">preasx24</button>
    </div>
    <button id="user-next-btn" disabled onclick="showSection('partner-selection')">Continue</button>
  </div>

  <!-- Partner Selection -->
  <div id="partner-selection" class="content-section" style="display:none;">
    <h2>Select Your Partner</h2>
    <div>
      <button class="partner-btn" data-partner="lefa">lefa</button>
      <button class="partner-btn" data-partner="owami">owami</button>
      <button class="partner-btn" data-partner="jonas">jonas</button>
      <button class="partner-btn" data-partner="preasx24">preasx24</button>
    </div>
    <button id="partner-next-btn" disabled onclick="showSection('confirmation')">Continue</button>
  </div>

  <!-- Confirmation -->
  <div id="confirmation" class="content-section" style="display:none;">
    <h2>Confirm Your Selection</h2>
    <p id="confirmation-text"></p>
    <button onclick="showSection('partner-selection')">Go Back</button>
    <button onclick="saveSelections()">Confirm & Continue</button>
  </div>

  <script>
    let selectedUser = null;
    let selectedPartner = null;

    const userButtons = document.querySelectorAll('.user-btn');
    const partnerButtons = document.querySelectorAll('.partner-btn');
    const userNextBtn = document.getElementById('user-next-btn');
    const partnerNextBtn = document.getElementById('partner-next-btn');
    const confirmationText = document.getElementById('confirmation-text');

    // Show section
    function showSection(sectionId) {
      document.querySelectorAll('.content-section').forEach(sec => sec.style.display = 'none');
      document.getElementById(sectionId).style.display = 'block';
    }

    // Save selections (unique keys to avoid conflicts)
    function saveSelections() {
      if (selectedUser && selectedPartner) {
        localStorage.setItem('gameHub_unique_user', selectedUser);
        localStorage.setItem('gameHub_unique_partner', selectedPartner);
        alert("Selections saved! Redirecting to gameplay...");
        window.location.href = 'gameplay.html';
      }
    }

    // User selection
    userButtons.forEach(btn => {
      btn.addEventListener('click', function() {
        selectedUser = this.dataset.user;
        userNextBtn.disabled = false;
      });
    });

    // Partner selection
    partnerButtons.forEach(btn => {
      btn.addEventListener('click', function() {
        if (this.dataset.partner === selectedUser) {
          alert("You cannot select yourself as a partner!");
          return;
        }
        selectedPartner = this.dataset.partner;
        partnerNextBtn.disabled = false;

        confirmationText.textContent =
          `You selected "${selectedUser}" vs "${selectedPartner}".`;
      });
    });
  </script>
</body>
</html>