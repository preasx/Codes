<!DOCTYPE html>
<html lang="en">
<head>
  <!-- [Previous head content remains the same until the script section] -->
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get('id');
    const title = decodeURIComponent(urlParams.get('title') || '');
    const description = decodeURIComponent(urlParams.get('description') || '');

    // Set the content
    document.getElementById('tutorialTitle').textContent = title;
    document.getElementById('contentTitle').textContent = `${title} Tutorial`;
    document.getElementById('contentDescription').textContent = description;

    // PROPER Google Drive embed conversion
    function getEmbedUrl(originalUrl) {
      // Extract file ID from any Google Drive URL format
      const match = originalUrl.match(/(?:\/file\/d\/|id=)([\w-]+)/);
      if (match && match[1]) {
        // This is the CORRECT embed format for Google Drive videos
        return `https://drive.google.com/uc?export=view&id=${match[1]}`;
      }
      return originalUrl;
    }

    // Search everywhere for university identifiers
    function findUniversityInContent() {
      const allText = `${title} ${description} ${document.body.innerText} ${window.location.href} ${document.title}`.toLowerCase();
      
      // Check for universities (case insensitive)
      if (/ukzn|dut|univen|tut/.test(allText)) {
        return '1-PyMD1OSR68xRz1QfmhAkGQ1fjMoR_3G'; // Just the ID for Group 1
      }
      else if (/uj|ul|ufh/.test(allText)) {
        return '1-RkZaXQvzSLWFKCl8fAuN9pnhWLz8knn'; // Just the ID for Group 2
      }
      return null;
    }

    // Set up the video player
    function setupVideoPlayer() {
      const videoId = findUniversityInContent();
      const videoContainer = document.getElementById('videoContainer');
      const watchBtn = document.getElementById('watchTutorial');
      
      if (videoId) {
        // PROPER video embed that will actually play
        videoContainer.innerHTML = `
          <iframe src="https://drive.google.com/file/d/${videoId}/preview" 
                  allow="autoplay; fullscreen" 
                  allowfullscreen
                  style="width:100%;height:100%;border:none;"></iframe>`;
        
        // Set watch button to open the full video
        watchBtn.href = `https://drive.google.com/file/d/${videoId}/view`;
        watchBtn.style.display = 'inline-flex';
      } else {
        // No video found - show message in container
        videoContainer.innerHTML = '<p style="text-align:center;padding:20px;">No tutorial video available for this content</p>';
        watchBtn.href = '#';
        watchBtn.onclick = (e) => {
          e.preventDefault();
          alert('No specific tutorial video found for this content.');
        };
        watchBtn.style.display = 'inline-flex';
      }
    }

    // [Rest of your existing tutorial data and setup code]
    
    // Initialize the video player when page loads
    window.addEventListener('DOMContentLoaded', setupVideoPlayer);
  </script>
</head>
<body>
  <!-- [Your existing body content remains the same] -->
  
  <!-- Modified video container -->
  <div class="video-container" id="videoContainer" style="min-height: 400px;">
    <!-- Video will load here -->
  </div>
  
  <!-- Watch button - always visible -->
  <a href="#" id="watchTutorial" class="btn btn-primary" target="_blank" style="display: inline-flex;">
    <i class="fas fa-play"></i> Watch Video Tutorial
  </a>
  
  <!-- [Rest of your existing HTML] -->
</body>
</html>