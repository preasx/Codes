<!DOCTYPE html><html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Extractor</title>
    <script src='//libtl.com/sdk.js' data-zone='9574412' data-sdk='show_9574412'></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* Add all your style rules here */
        :root {
            --primary-color: #2481cc;
            --primary-hover: #1a6cb3;
            --background: #ffffff;
            --surface: #f5f5f5;
            --text-primary: #333333;
            --text-secondary: #666666;
            --border: #e0e0e0;
            --success: #4caf50;
            --error: #f44336;
            --border-radius: 8px;
            --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }body.dark {
        --primary-color: #4a9ce9;
        --primary-hover: #3d8bd6;
        --background: #121212;
        --surface: #1e1e1e;
        --text-primary: #f5f5f5;
        --text-secondary: #b0b0b0;
        --border: #333333;
        --success: #66bb6a;
        --error: #ef5350;
        --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }

    /* Reset and layout */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
        font-family: 'Inter', sans-serif;
        background-color: var(--background);
        color: var(--text-primary);
        padding: 16px;
    }
    .container { max-width: 600px; margin: auto; }
    header { text-align: center; margin-bottom: 24px; }
    h1 { font-size: 1.5rem; color: var(--primary-color); }
    .subtitle { color: var(--text-secondary); }

    .card {
        background-color: var(--surface);
        border-radius: var(--border-radius);
        padding: 20px;
        box-shadow: var(--box-shadow);
        margin-bottom: 24px;
    }

    .file-input-container { margin-top: 16px; }
    .file-input-label {
        display: block;
        padding: 12px;
        text-align: center;
        background-color: var(--surface);
        border: 1px dashed var(--border);
        border-radius: var(--border-radius);
        cursor: pointer;
    }

    #fileInput { display: none; }
    .selected-file { margin-top: 10px; color: var(--text-secondary); }

    .button {
        width: 100%;
        padding: 12px;
        margin-top: 10px;
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: var(--border-radius);
        cursor: pointer;
    }

    .button-secondary {
        background-color: var(--surface);
        color: var(--primary-color);
        border: 1px solid var(--primary-color);
    }

    .output-container { margin-top: 20px; }
    pre {
        background-color: var(--background);
        padding: 16px;
        border: 1px solid var(--border);
        border-radius: var(--border-radius);
        overflow-x: auto;
    }

    #fileName {
        width: 100%;
        padding: 10px;
        margin-top: 10px;
        border: 1px solid var(--border);
        border-radius: var(--border-radius);
    }

    .status-message {
        padding: 12px;
        border-radius: var(--border-radius);
        margin-top: 10px;
        text-align: center;
    }
    .success { color: var(--success); border: 1px solid var(--success); }
    .error { color: var(--error); border: 1px solid var(--error); }
    .hidden { display: none; }
</style>

</head>
<body>
<div class="container">
    <header>
        <h1>Account Extractor</h1>
        <p class="subtitle">Extract email:password pairs from uploaded files</p>
    </header><div class="card">
    <label class="file-input-label" for="fileInput">Choose File</label>
    <input type="file" id="fileInput" accept=".txt,.csv,.json,.log">
    <div id="selectedFile" class="selected-file hidden">Selected: <span id="selectedFileName"></span></div>
    <button class="button" onclick="processFile()">Extract Accounts</button>
    <div id="statusMessage" class="status-message hidden"></div>
</div>

<div class="card hidden" id="resultsSection">
    <div class="output-container">
        <pre id="output">No accounts extracted yet.</pre>
    </div>
    <p id="accountCount"></p>
    <button class="button" onclick="copyToClipboard()">Copy to Clipboard</button>
    <input type="text" id="fileName" placeholder="Enter file name (e.g., accounts.txt)">
    <button class="button button-secondary" onclick="downloadFile()">Download File</button>
</div>

</div><script>
    const TelegramWebApp = window.Telegram.WebApp;
    let extractedData = "";

    TelegramWebApp.ready();
    TelegramWebApp.expand();
    document.body.classList.toggle('dark', TelegramWebApp.colorScheme === 'dark');

    document.getElementById('fileInput').addEventListener('change', function(e) {
        const file = e.target.files[0];
        const selectedFileDiv = document.getElementById('selectedFile');
        const fileNameSpan = document.getElementById('selectedFileName');
        if (file) {
            fileNameSpan.textContent = file.name;
            selectedFileDiv.classList.remove('hidden');
        } else {
            selectedFileDiv.classList.add('hidden');
        }
    });

    function showStatus(message, isSuccess) {
        const status = document.getElementById('statusMessage');
        status.textContent = message;
        status.className = `status-message ${isSuccess ? 'success' : 'error'}`;
        status.classList.remove('hidden');
        setTimeout(() => status.classList.add('hidden'), 3000);
    }

    function processFile() {
        const fileInput = document.getElementById('fileInput');
        const output = document.getElementById('output');
        const resultsSection = document.getElementById('resultsSection');
        const accountCountElement = document.getElementById('accountCount');

        if (!fileInput.files.length) {
            showStatus("Please select a file first", false);
            return;
        }

        const file = fileInput.files[0];
        if (file.size > 5 * 1024 * 1024) {
            showStatus("File is too large (max 5MB)", false);
            return;
        }

        const reader = new FileReader();
        reader.onload = function(event) {
            const content = event.target.result;
            const pattern = /([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})\s*[:;|]\s*([^\s]+)/g;
            let match;
            extractedData = "";
            let count = 0;

            while ((match = pattern.exec(content)) !== null) {
                extractedData += `${match[1]}:${match[2]}\n`;
                count++;
            }

            if (count > 0) {
                output.textContent = extractedData;
                accountCountElement.textContent = `${count} accounts extracted`;
                resultsSection.classList.remove('hidden');
                showStatus("Accounts extracted successfully", true);
            } else {
                output.textContent = "No valid email:password pairs found";
                resultsSection.classList.add('hidden');
                showStatus("No valid accounts found", false);
            }
        };

        reader.onerror = function() {
            showStatus("Error reading file", false);
        };

        reader.readAsText(file);
    }

    function copyToClipboard() {
        if (!extractedData) {
            showStatus("No data to copy", false);
            return;
        }

        navigator.clipboard.writeText(extractedData).then(() => {
            showStatus("Copied to clipboard", true);
            show_9574412('pop');
        }).catch(() => {
            showStatus("Failed to copy", false);
        });
    }

    function downloadFile() {
        if (!extractedData) {
            showStatus("No data to download", false);
            return;
        }

        const fileNameInput = document.getElementById('fileName');
        const fileName = fileNameInput.value.trim() || `accounts_${new Date().toISOString().slice(0,10)}.txt`;
        const blob = new Blob([extractedData], { type: "text/plain" });
        const url = URL.createObjectURL(blob);

        const link = document.createElement("a");
        link.href = url;
        link.download = fileName;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);

        URL.revokeObjectURL(url);
        showStatus("Download started", true);

        show_9574412('pop');
    }

    TelegramWebApp.onEvent('themeChanged', () => {
        document.body.classList.toggle('dark', TelegramWebApp.colorScheme === 'dark');
    });
</script></body>
</html>